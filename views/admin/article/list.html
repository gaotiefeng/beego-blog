<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>文章列表</title>
    <link rel="stylesheet" href="/resources/layui/css/layui.css" media="all">
</head>
<body>

<table id="article" lay-filter="test"></table>

<script src="/resources/layui/layui.js"></script>
<script src="/resources/jquery-3.3.1/jquery-3.3.1.min.js"></script>
<script type="text/javascript">

$(function () {
    layui.use('table', function(){
        var table = layui.table;
        var limit = 10;
        //第一个实例
        table.render({
            elem: '#article'
            ,height: 312
            ,url: '/admin/article/list/' //数据接口
            ,page: true
            ,cols: [[ //表头
                {field: 'id', title: 'ID', width:180, sort: true, fixed: 'left'}
                ,{field: 'name', title: '文章名称', width:180, sort: true}
                ,{field: 'content', title: '文章内容', width:80}
                ,{field: 'image', title: '封面图片', width: 177}
                ,{field: 'created_at', title: '发布时间', width: 180, sort: true}
            ]]
            ,response: {
                statusCode: 200 //重新规定成功的状态码为 200，table 组件默认为 0
            }
            ,limit:limit
            ,limits: [10, 20, 30]
            ,done: function (res, curr, count) { //curr当前页码、count为数据总条数
                console.log(res);
            }
            ,parseData: function(res){ //将原始数据解析成 table 组件所规定的数据
                return {
                    "code": res.code, //解析接口状态
                    "msg": res.msg, //解析提示文本
                    "count": res.count, //解析数据长度
                    "data": res.data //解析数据列表
                };
            }
        });
    });
})

</script>